<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Grok REIMAGINE - Free AI Image Generator</title>
  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      max-width: 900px;
      margin: 0 auto;
      padding: 20px;
      background: #f8f9fa;
      color: #333;
    }
    h1 {
      text-align: center;
      color: #1a73e8;
    }
    .container {
      background: white;
      padding: 25px;
      border-radius: 12px;
      box-shadow: 0 4px 20px rgba(0,0,0,0.1);
    }
    textarea {
      width: 100%;
      min-height: 120px;
      padding: 12px;
      font-size: 16px;
      border: 1px solid #ddd;
      border-radius: 8px;
      resize: vertical;
      margin-bottom: 15px;
    }
    button {
      background: #1a73e8;
      color: white;
      border: none;
      padding: 12px 28px;
      font-size: 16px;
      border-radius: 8px;
      cursor: pointer;
      transition: background 0.2s;
    }
    button:hover {
      background: #0d65d6;
    }
    button:disabled {
      background: #aaa;
      cursor: not-allowed;
    }
    #status {
      margin-left: 15px;
      color: #555;
      font-style: italic;
    }
    #result {
      margin-top: 25px;
      text-align: center;
    }
    #result img {
      max-width: 100%;
      border-radius: 12px;
      box-shadow: 0 6px 25px rgba(0,0,0,0.15);
      margin-top: 15px;
    }
    .footer {
      margin-top: 40px;
      text-align: center;
      color: #777;
      font-size: 14px;
    }
  </style>
</head>
<body>

  <div class="container">
    <h1>Grok REIMAGINE</h1>
    <p style="text-align:center; color:#555;">
      Free AI image generator • No sign-up • Powered by public Pollinations API
    </p>

    <textarea id="prompt" placeholder="Describe your image... (e.g., cyberpunk city at night with neon lights, very detailed)"></textarea>

    <div>
      <button id="generateBtn">Generate Image</button>
      <span id="status"></span>
    </div>

    <div id="result"></div>
  </div>

  <div class="footer">
    This is a prototype • Images generated via <a href="https://pollinations.ai" target="_blank">Pollinations.ai</a> public endpoint<br>
    Quality & availability may vary • Enjoy responsibly!
  </div>

  <script>
    const generateBtn = document.getElementById('generateBtn');
    const promptInput = document.getElementById('prompt');
    const status = document.getElementById('status');
    const resultDiv = document.getElementById('result');

    generateBtn.addEventListener('click', async () => {
      const prompt = promptInput.value.trim();
      if (!prompt) {
        alert('Please enter a description first!');
        return;
      }

      generateBtn.disabled = true;
      status.textContent = 'Generating... (usually 5–30 seconds)';
      resultDiv.innerHTML = '';

      try {
        // Option 1: Call your own backend proxy (recommended for rate limiting & future features)
        // const response = await axios.post('https://your-backend-domain.com/api/generate', { prompt });
        // const imageUrl = response.data.imageUrl;  // adjust based on what your backend returns

        // Option 2: Direct call to Pollinations public endpoint (simplest, no backend needed!)
        const encodedPrompt = encodeURIComponent(prompt);
        const imageUrl = `https://image.pollinations.ai/prompt/${encodedPrompt}?width=1024&height=1024&model=flux&nologo=true&seed=${Date.now()}`;

        // Display the image (it generates on-the-fly when the URL is loaded)
        resultDiv.innerHTML = `
          <img src="${imageUrl}" alt="AI Generated Image" 
               onload="this.style.opacity=1" 
               style="opacity:0; transition:opacity 0.5s;">
          <p style="margin-top:10px; color:#666;">
            Generated with Flux model • <a href="${imageUrl}" target="_blank">Direct link</a>
          </p>
        `;

      } catch (error) {
        console.error(error);
        resultDiv.innerHTML = `<p style="color:red;">Error: ${error.message || 'Something went wrong'}</p>`;
      } finally {
        generateBtn.disabled = false;
        status.textContent = '';
      }
    });
  </script>

</body>
</html>
